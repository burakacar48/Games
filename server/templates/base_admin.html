<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Admin Paneli{% endblock %}</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/darcula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/shell/shell.min.js"></script>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_styles.css', v='1.5') }}">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-gamepad"></i>
                <h2>Oyun Menüsü</h2>
            </div>

            <div class="menu-section">
                <a href="{{ url_for('admin_index') }}" class="menu-item {% if request.endpoint == 'admin_index' %}active{% endif %}">
                    <i class="fas fa-chart-line"></i>
                    <span>Gösterge Paneli</span>
                </a>
                <a href="{{ url_for('manage_sliders') }}" class="menu-item {% if 'slider' in request.endpoint %}active{% endif %}">
                    <i class="fas fa-images"></i>
                    <span>Slider Yönetimi</span>
                </a>
            </div>

            <div class="menu-section">
                <div class="menu-title">Oyun Yönetimi</div>
                {% set game_list_endpoints = ['list_games', 'edit_game', 'delete_game'] %}
                <a href="{{ url_for('list_games') }}" class="menu-item {% if request.endpoint in game_list_endpoints %}active{% endif %}">
                    <i class="fas fa-list"></i>
                    <span>Oyun Listesi</span>
                </a>
                <a href="{{ url_for('add_game') }}" class="menu-item {% if request.endpoint == 'add_game' %}active{% endif %}">
                    <i class="fas fa-plus"></i>
                    <span>Oyun Ekle</span>
                </a>
                <a href="{{ url_for('download_games') }}" class="menu-item {% if request.endpoint == 'download_games' %}active{% endif %}">
                    <i class="fas fa-download"></i>
                    <span>Oyun İndir</span>
                </a>
                <a href="{{ url_for('manage_categories') }}" class="menu-item {% if request.endpoint == 'manage_categories' or request.endpoint == 'delete_category' %}active{% endif %}">
                    <i class="fas fa-folder"></i>
                    <span>Kategoriler</span>
                </a>
                <a href="{{ url_for('manage_ratings') }}" class="menu-item {% if request.endpoint == 'manage_ratings' or request.endpoint == 'reset_all_ratings' %}active{% endif %}">
                    <i class="fas fa-trophy"></i>
                    <span>Puan Yönetimi</span>
                </a>
                <a href="{{ url_for('manage_statistics') }}" class="menu-item {% if request.endpoint == 'manage_statistics' %}active{% endif %}">
                    <i class="fas fa-chart-bar"></i>
                    <span>İstatistikler</span>
                </a>
            </div>

            <div class="menu-section">
                <div class="menu-title">Kullanıcılar</div>
                {% set user_management_endpoints = ['manage_users', 'edit_user', 'delete_user'] %}
                <a href="{{ url_for('manage_users') }}" class="menu-item {% if request.endpoint in user_management_endpoints %}active{% endif %}">
                    <i class="fas fa-users"></i>
                    <span>Üye Bilgileri</span>
                </a>
            </div>

            <div class="menu-section">
                <div class="menu-title">Sistem</div>
                <a href="{{ url_for('general_settings') }}" class="menu-item {% if request.endpoint == 'general_settings' %}active{% endif %}">
                    <i class="fas fa-cog"></i>
                    <span>Genel Ayarlar</span>
                </a>
                <a href="{{ url_for('license_management') }}" class="menu-item {% if request.endpoint == 'license_management' %}active{% endif %}">
                    <i class="fas fa-key"></i>
                    <span>Lisans Yönetimi</span>
                </a>
            </div>
        </aside>

        <main class="main-content">
            {% block content %}{% endblock %}
        </main>
    </div>
</body>
</html>